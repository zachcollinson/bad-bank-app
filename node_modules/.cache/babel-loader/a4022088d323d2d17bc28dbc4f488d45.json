{"ast":null,"code":"var _jsxFileName = \"/Users/zacbook/Desktop/final-bad-bank/mit-bad-bank/src/Components/CreateAccount.js\",\n    _s = $RefreshSig$();\n\nimport '../App.css';\nimport React from 'react';\nimport Card from './Card';\nimport { UserContext } from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CreateAccount() {\n  _s();\n\n  const ctx = React.useContext(UserContext);\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  const [name, setName] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [disabledValue, setDisabledValue] = React.useState(\"disabled\");\n  React.useEffect(() => {\n    if (name !== \"\" && email !== \"\" && password !== \"\") {\n      setDisabledValue(\"\");\n    } else {\n      setDisabledValue(\"disabled\");\n    }\n  }, [name, email, password, ctx.users]);\n\n  function validate(field, label) {\n    if (!field || label === 'password' && field.length < 8) {\n      setStatus('Error: ' + label);\n      setTimeout(() => setStatus(''), 3000);\n      return false;\n    }\n\n    return true;\n  }\n\n  function handleCreate() {\n    if (!validate(name, 'name')) {\n      setStatus('Enter name');\n      return;\n    }\n\n    if (!validate(email, 'email')) {\n      setStatus('Enter email');\n      return;\n    }\n\n    if (!validate(password, 'password')) {\n      setStatus('Enter password (at least 8 characters)');\n      return;\n    } // Delete initial placeholder user account\n\n\n    if (ctx.users[0].name === 'abel') {\n      ctx.users.length = 0;\n    } // Seed all new accounts with $100\n\n\n    ctx.users.push({\n      name,\n      email,\n      password,\n      balance: 100\n    });\n    setShow(false);\n  }\n\n  function handleChange(e, setField) {\n    setField(e.currentTarget.value);\n  }\n\n  function clearForm() {\n    setName('');\n    setEmail('');\n    setPassword('');\n    setShow(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"primary\",\n    header: \"Create Account\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"Name\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"input\",\n        required: true,\n        className: \"form-control\",\n        id: \"name\",\n        placeholder: \"Enter name\",\n        value: name,\n        onChange: e => handleChange(e, setName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 156\n      }, this), \"Email address\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"input\",\n        required: true,\n        className: \"form-control\",\n        id: \"email\",\n        placeholder: \"Enter email\",\n        value: email,\n        onChange: e => handleChange(e, setEmail)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 160\n      }, this), \"Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        required: true,\n        className: \"form-control\",\n        id: \"password\",\n        placeholder: \"Enter password\",\n        value: password,\n        onChange: e => handleChange(e, setPassword)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 175\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-light\",\n        disabled: disabledValue,\n        onClick: handleCreate,\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-light\",\n        onClick: clearForm,\n        children: \"Add another account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateAccount, \"rPCv/49tGSX0TdmH3WjPtSJukss=\");\n\n_c = CreateAccount;\nexport default CreateAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"names":["React","Card","UserContext","CreateAccount","ctx","useContext","show","setShow","useState","status","setStatus","name","setName","email","setEmail","password","setPassword","disabledValue","setDisabledValue","useEffect","users","validate","field","label","length","setTimeout","handleCreate","push","balance","handleChange","e","setField","currentTarget","value","clearForm"],"sources":["/Users/zacbook/Desktop/final-bad-bank/mit-bad-bank/src/Components/CreateAccount.js"],"sourcesContent":["import '../App.css';\nimport React from 'react';\nimport Card from './Card';\nimport { UserContext } from './context';\n\nfunction CreateAccount() {\n  const ctx = React.useContext(UserContext);\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  const [name, setName] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [disabledValue, setDisabledValue] = React.useState(\"disabled\");\n\n  React.useEffect(() => {\n    if (name !== \"\" && email !== \"\" && password !== \"\") {\n      setDisabledValue(\"\");\n    } else {\n      setDisabledValue(\"disabled\");\n    }\n  }, [name, email, password, ctx.users]);\n\n  function validate(field, label) {\n    if (!field || (label === 'password' && field.length < 8)) {\n      setStatus('Error: ' + label);\n      setTimeout(() => setStatus(''), 3000);\n      return false;\n    }\n    return true;\n  }\n\n  function handleCreate() {\n    if (!validate(name, 'name')) {\n      setStatus('Enter name');\n      return;\n    }\n    if (!validate(email, 'email')) {\n      setStatus('Enter email');\n      return;\n    }\n    if (!validate(password, 'password')) {\n      setStatus('Enter password (at least 8 characters)');\n      return;\n    }\n    // Delete initial placeholder user account\n    if (ctx.users[0].name === 'abel') {\n      ctx.users.length = 0;\n    }\n    // Seed all new accounts with $100\n    ctx.users.push({ name, email, password, balance: 100 });\n    setShow(false);\n  }\n\n  function handleChange(e, setField) {\n    setField(e.currentTarget.value);\n  }\n\n  function clearForm() {\n    setName('');\n    setEmail('');\n    setPassword('');\n    setShow(true);\n  }\n\n  return (\n    <Card\n      bgcolor=\"primary\"\n      header=\"Create Account\"\n      status={status}\n      body={show ? (\n        <>\n          Name<br />\n          <input type=\"input\" required className=\"form-control\" id=\"name\" placeholder=\"Enter name\" value={name} onChange={e => handleChange(e, setName)} /><br />\n          Email address<br />\n          <input type=\"input\" required className=\"form-control\" id=\"email\" placeholder=\"Enter email\" value={email} onChange={e => handleChange(e, setEmail)} /><br />\n          Password<br />\n          <input type=\"password\" required className=\"form-control\" id=\"password\" placeholder=\"Enter password\" value={password} onChange={e => handleChange(e, setPassword)} /><br />\n          <button type=\"submit\" className=\"btn btn-light\" disabled={disabledValue} onClick={handleCreate}>Create Account</button>\n        </>\n      ) : (\n        <>\n          <h5>Success</h5>\n          <button type=\"submit\" className=\"btn btn-light\" onClick={clearForm}>Add another account</button>\n        </>\n      )}\n    />\n  )\n}\n\nexport default CreateAccount;"],"mappings":"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"},"metadata":{},"sourceType":"module"}