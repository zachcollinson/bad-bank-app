{"ast":null,"code":"var _jsxFileName = \"/Users/zacbook/Desktop/final-bad-bank/mit-bad-bank/src/Components/Deposit.js\",\n    _s = $RefreshSig$();\n\nimport '../App.css';\nimport React from 'react';\nimport Card from './Card';\nimport { UserContext } from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Deposit() {\n  _s();\n\n  const ctx = React.useContext(UserContext);\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  const [amount, setAmount] = React.useState('');\n  const currentUserBalance = ctx.users[ctx.users.length - 1] && ctx.users[ctx.users.length - 1].balance;\n  const [balance, setBalance] = React.useState(currentUserBalance);\n  const [disabledValue, setDisabledValue] = React.useState(\"disabled\");\n\n  function validate(field, label) {\n    if (!field) {\n      setStatus('Error: ' + label);\n      setTimeout(() => setStatus(''), 3000);\n      return false;\n    }\n\n    return true;\n  }\n\n  function handleCreate() {\n    if (!validate(amount, 'amount')) {\n      setStatus('Enter amount');\n      return;\n    }\n\n    setBalance(Number(balance) + Number(amount));\n    setShow(false);\n  }\n\n  React.useEffect(() => {\n    // For demo, update balance of last created account\n    ctx.users[ctx.users.length - 1].balance = balance;\n\n    if (amount !== \"\") {\n      setDisabledValue(\"\");\n    } else {\n      setDisabledValue(\"disabled\");\n    }\n  }, [amount, balance, ctx.users]);\n\n  function handleChange(e, setField) {\n    if (isNaN(e.target.value)) {\n      setStatus('Please enter a number');\n      return;\n    } else {\n      setStatus('');\n      setField(e.target.value);\n    }\n  }\n\n  function clearForm() {\n    setAmount('');\n    setShow(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Deposit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      bgcolor: \"primary\",\n      status: status,\n      body: show ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Balance: \", balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), \"Deposit Amount\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"input\",\n          required: true,\n          className: \"form-control\",\n          id: \"amount\",\n          placeholder: \"Enter deposit amount\",\n          value: amount,\n          onChange: e => handleChange(e, setAmount)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 174\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-light\",\n          disabled: disabledValue,\n          onClick: handleCreate,\n          children: \"Make Deposit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"New Balance: \", balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-light\",\n          onClick: clearForm,\n          children: \"Make another deposit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Deposit, \"F21z4Twkulnov+sMnYN1lcAfDUg=\");\n\n_c = Deposit;\nexport default Deposit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Deposit\");","map":{"version":3,"names":["React","Card","UserContext","Deposit","ctx","useContext","show","setShow","useState","status","setStatus","amount","setAmount","currentUserBalance","users","length","balance","setBalance","disabledValue","setDisabledValue","validate","field","label","setTimeout","handleCreate","Number","useEffect","handleChange","e","setField","isNaN","target","value","clearForm"],"sources":["/Users/zacbook/Desktop/final-bad-bank/mit-bad-bank/src/Components/Deposit.js"],"sourcesContent":["import '../App.css';\nimport React from 'react';\nimport Card from './Card';\nimport { UserContext } from './context';\n\nfunction Deposit() {\n  const ctx = React.useContext(UserContext);\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  const [amount, setAmount] = React.useState('');\n  const currentUserBalance =\n    ctx.users[ctx.users.length - 1]\n    && ctx.users[ctx.users.length - 1].balance;\n  const [balance, setBalance] = React.useState(currentUserBalance);\n  const [disabledValue, setDisabledValue] = React.useState(\"disabled\");\n\n  function validate(field, label) {\n    if (!field) {\n      setStatus('Error: ' + label);\n      setTimeout(() => setStatus(''), 3000);\n      return false;\n    }\n    return true;\n  }\n\n  function handleCreate() {\n    if (!validate(amount, 'amount')) {\n      setStatus('Enter amount');\n      return;\n    }\n    setBalance(Number(balance) + Number(amount));\n    setShow(false);\n  }\n\n  React.useEffect(() => {\n    // For demo, update balance of last created account\n    ctx.users[ctx.users.length - 1].balance = balance;\n    if (amount !== \"\") {\n      setDisabledValue(\"\");\n    } else {\n      setDisabledValue(\"disabled\");\n    }\n  }, [amount, balance, ctx.users]);\n\n  function handleChange(e, setField) {\n    if (isNaN(e.target.value)) {\n      setStatus('Please enter a number');\n      return;\n    } else {\n      setStatus('');\n      setField(e.target.value);\n    }\n  }\n\n  function clearForm() {\n    setAmount('');\n    setShow(true);\n  }\n\n  return (\n    <>\n      <h1>Deposit</h1>\n      <Card\n        bgcolor=\"primary\"\n        status={status}\n        body={show ? (\n          <>\n            <p>Balance: {balance}</p>\n            Deposit Amount<br />\n            <input type=\"input\" required className=\"form-control\" id=\"amount\" placeholder=\"Enter deposit amount\" value={amount} onChange={e => handleChange(e, setAmount)} /><br />\n            <button type=\"submit\" className=\"btn btn-light\" disabled={disabledValue} onClick={handleCreate}>Make Deposit</button>\n          </>\n        ) : (\n          <>\n            <h5>Success</h5>\n            <p>New Balance: {balance}</p>\n            <button type=\"submit\" className=\"btn btn-light\" onClick={clearForm}>Make another deposit</button>\n          </>\n        )}\n      />\n    </>\n  )\n}\n\nexport default Deposit;"],"mappings":"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"},"metadata":{},"sourceType":"module"}